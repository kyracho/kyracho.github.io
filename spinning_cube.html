<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spinning 3D Cube Animation</title>
    <style>
        body {
            font-family: monospace;
            white-space: pre;
            line-height: 1.1em;
            background-color: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .matrix {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="matrix" class="matrix"></div>
    <script>
        const canvasHeight = 30;
        const canvasWidth = 50;
        const canvas = Array(canvasHeight).fill().map(() => Array(canvasWidth).fill(' '));

        const vertices = [
            [-1, -1, -1],
            [ 1, -1, -1],
            [ 1,  1, -1],
            [-1,  1, -1],
            [-1, -1,  1],
            [ 1, -1,  1],
            [ 1,  1,  1],
            [-1,  1,  1]
        ];

        const edges = [
            [0, 1], [1, 2], [2, 3], [3, 0],
            [4, 5], [5, 6], [6, 7], [7, 4],
            [0, 4], [1, 5], [2, 6], [3, 7]
        ];

        let angleX = 0;
        let angleY = 0;

        function rotate(point, angleX, angleY) {
            let [x, y, z] = point;

            // Rotation around X-axis
            let cosa = Math.cos(angleX);
            let sina = Math.sin(angleX);
            let y1 = y * cosa - z * sina;
            let z1 = y * sina + z * cosa;

            // Rotation around Y-axis
            let cosb = Math.cos(angleY);
            let sinb = Math.sin(angleY);
            let x1 = x * cosb + z1 * sinb;
            let z2 = -x * sinb + z1 * cosb;

            return [x1, y1, z2];
        }

        function project([x, y, z]) {
            const distance = 5;
            const fov = canvasWidth / (2 * distance - z);
            const xProj = Math.floor(canvasWidth / 2 + x * fov);
            const yProj = Math.floor(canvasHeight / 2 - y * fov);
            return [xProj, yProj];
        }

        function clearCanvas() {
            for (let i = 0; i < canvasHeight; i++) {
                for (let j = 0; j < canvasWidth; j++) {
                    canvas[i][j] = ' ';
                }
            }
        }

        function drawLine(x1, y1, x2, y2, char) {
            const dx = Math.abs(x2 - x1);
            const dy = Math.abs(y2 - y1);
            const sx = x1 < x2 ? 1 : -1;
            const sy = y1 < y2 ? 1 : -1;
            let err = dx - dy;

            while (true) {
                if (x1 >= 0 && x1 < canvasWidth && y1 >= 0 && y1 < canvasHeight) {
                    canvas[y1][x1] = char;
                }
                if (x1 === x2 && y1 === y2) break;
                const e2 = 2 * err;
                if (e2 > -dy) { err -= dy; x1 += sx; }
                if (e2 < dx) { err += dx; y1 += sy; }
            }
        }

        function fillFace(vertices, char) {
            const [v0, v1, v2, v3] = vertices;
            const [x0, y0] = v0;
            const [x1, y1] = v1;
            const [x2, y2] = v2;
            const [x3, y3] = v3;

            // Filling the face with the character
            const minX = Math.max(0, Math.min(x0, x1, x2, x3));
            const maxX = Math.min(canvasWidth - 1, Math.max(x0, x1, x2, x3));
            const minY = Math.max(0, Math.min(y0, y1, y2, y3));
            const maxY = Math.min(canvasHeight - 1, Math.max(y0, y1, y2, y3));

            for (let x = minX; x <= maxX; x++) {
                for (let y = minY; y <= maxY; y++) {
                    canvas[y][x] = char;
                }
            }
        }

        function render() {
            clearCanvas();
            const projectedVertices = vertices.map(v => project(rotate(v, angleX, angleY)));

            // Drawing edges and filling faces with characters
            fillFace([projectedVertices[0], projectedVertices[1], projectedVertices[5], projectedVertices[4]], 'o');
            fillFace([projectedVertices[1], projectedVertices[2], projectedVertices[6], projectedVertices[5]], 'e');
            fillFace([projectedVertices[2], projectedVertices[3], projectedVertices[7], projectedVertices[6]], 'a');

            edges.forEach(([start, end]) => {
                const [x1, y1] = projectedVertices[start];
                const [x2, y2] = projectedVertices[end];
                drawLine(x1, y1, x2, y2, ' ');
            });

            const matrix = document.getElementById('matrix');
            matrix.textContent = canvas.map(row => row.join('')).join('\n');
        }

        function animate() {
            angleX += 0.02;
            angleY += 0.03;
            render();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>

