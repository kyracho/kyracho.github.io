<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spinning 3D Cube</title>
    <style>
        body {
            font-family: monospace;
            white-space: pre;
            line-height: 1.1em;
            background-color: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .matrix {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="matrix" class="matrix"></div>
    <script>
        const canvasHeight = 20;
        const canvasWidth = 30;
        const canvas = Array(canvasHeight).fill().map(() => Array(canvasWidth).fill(' '));

        const vertices = [
            [-1, -1, -1],
            [ 1, -1, -1],
            [ 1,  1, -1],
            [-1,  1, -1],
            [-1, -1,  1],
            [ 1, -1,  1],
            [ 1,  1,  1],
            [-1,  1,  1]
        ];

        const edges = [
            [0, 1], [1, 2], [2, 3], [3, 0],
            [4, 5], [5, 6], [6, 7], [7, 4],
            [0, 4], [1, 5], [2, 6], [3, 7]
        ];

        let angleX = 0;
        let angleY = 0;

        function rotate(point, angleX, angleY) {
            let [x, y, z] = point;

            // Rotation around X-axis
            let cosa = Math.cos(angleX);
            let sina = Math.sin(angleX);
            let y1 = y * cosa - z * sina;
            let z1 = y * sina + z * cosa;

            // Rotation around Y-axis
            let cosb = Math.cos(angleY);
            let sinb = Math.sin(angleY);
            let x1 = x * cosb + z1 * sinb;
            let z2 = -x * sinb + z1 * cosb;

            return [x1, y1, z2];
        }

        function project([x, y, z]) {
            const distance = 5;
            const fov = canvasWidth / (2 * distance - z);
            const xProj = Math.floor(canvasWidth / 2 + x * fov);
            const yProj = Math.floor(canvasHeight / 2 - y * fov);
            return [xProj, yProj];
        }

        function clearCanvas() {
            for (let i = 0; i < canvasHeight; i++) {
                for (let j = 0; j < canvasWidth; j++) {
                    canvas[i][j] = ' ';
                }
            }
        }

        function drawLine(x1, y1, x2, y2, char) {
            const dx = Math.abs(x2 - x1);
            const dy = Math.abs(y2 - y1);
            const sx = x1 < x2 ? 1 : -1;
            const sy = y1 < y2 ? 1 : -1;
            let err = dx - dy;

            while (true) {
                if (x1 >= 0 && x1 < canvasWidth && y1 >= 0 && y1 < canvasHeight) {
                    canvas[y1][x1] = char;
                }
                if (x1 === x2 && y1 === y2) break;
                const e2 = 2 * err;
                if (e2 > -dy) { err -= dy; x1 += sx; }
                if (e2 < dx) { err += dx; y1 += sy; }
            }
        }

        function render() {
            clearCanvas();
            const projectedVertices = vertices.map(v => project(rotate(v, angleX, angleY)));

            // Drawing edges
            edges.forEach(([start, end]) => {
                const [x1, y1] = projectedVertices[start];
                const [x2, y2] = projectedVertices[end];
                drawLine(x1, y1, x2, y2, '.');
            });

            // Filling faces with "0" for more visibility
            // Faces are defined by 4 vertices each; here we use basic loop to fill some part for simplicity
            for (let i = 0; i < 4; i++) {
                const [x1, y1] = projectedVertices[i];
                const [x2, y2] = projectedVertices[(i+1) % 4];
                drawLine(x1, y1, x2, y2, '.');
            }

            const matrix = document.getElementById('matrix');
            matrix.textContent = canvas.map(row => row.join('')).join('\n');
        }

        function animate() {
            angleX += 0.03;
            angleY += 0.02;
            render();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>

